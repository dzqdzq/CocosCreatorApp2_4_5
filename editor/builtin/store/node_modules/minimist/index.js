function t(t){return"number"==typeof t||(!!/^0x[0-9a-f]+$/i.test(t)||/^[-+]?(?:\d+(?:\.\d*)?|\.\d+)(e[-+]?\d+)?$/.test(t))}module.exports=function(o,n){n||(n={});var e={bools:{},strings:{},unknownFn:null};"function"==typeof n.unknown&&(e.unknownFn=n.unknown),"boolean"==typeof n.boolean&&n.boolean?e.allBools=!0:[].concat(n.boolean).filter(Boolean).forEach(function(t){e.bools[t]=!0});var r={};Object.keys(n.alias||{}).forEach(function(t){r[t]=[].concat(n.alias[t]),r[t].forEach(function(o){r[o]=[t].concat(r[t].filter(function(t){return o!==t}))})}),[].concat(n.string).filter(Boolean).forEach(function(t){e.strings[t]=!0,r[t]&&(e.strings[r[t]]=!0)});var s=n.default||{},i={_:[]};Object.keys(e.bools).forEach(function(t){l(t,void 0!==s[t]&&s[t])});var a=[];function l(o,n,s){if(!s||!e.unknownFn||function(t,o){return e.allBools&&/^--[^=]+$/.test(o)||e.strings[t]||e.bools[t]||r[t]}(o,s)||!1!==e.unknownFn(s)){var a=!e.strings[o]&&t(n)?Number(n):n;f(i,o.split("."),a),(r[o]||[]).forEach(function(t){f(i,t.split("."),a)})}}function f(t,o,n){for(var r=t,s=0;s<o.length-1;s++){if("__proto__"===(i=o[s]))return;void 0===r[i]&&(r[i]={}),r[i]!==Object.prototype&&r[i]!==Number.prototype&&r[i]!==String.prototype||(r[i]={}),r[i]===Array.prototype&&(r[i]=[]),r=r[i]}var i;"__proto__"!==(i=o[o.length-1])&&(r!==Object.prototype&&r!==Number.prototype&&r!==String.prototype||(r={}),r===Array.prototype&&(r=[]),void 0===r[i]||e.bools[i]||"boolean"==typeof r[i]?r[i]=n:Array.isArray(r[i])?r[i].push(n):r[i]=[r[i],n])}function c(t){return r[t].some(function(t){return e.bools[t]})}-1!==o.indexOf("--")&&(a=o.slice(o.indexOf("--")+1),o=o.slice(0,o.indexOf("--")));for(var u=0;u<o.length;u++){var p=o[u];if(/^--.+=/.test(p)){var b=p.match(/^--([^=]+)=([\s\S]*)$/),h=b[1],y=b[2];e.bools[h]&&(y="false"!==y),l(h,y,p)}else if(/^--no-.+/.test(p)){l(h=p.match(/^--no-(.+)/)[1],!1,p)}else if(/^--.+/.test(p)){h=p.match(/^--(.+)/)[1];void 0===(k=o[u+1])||/^-/.test(k)||e.bools[h]||e.allBools||r[h]&&c(h)?/^(true|false)$/.test(k)?(l(h,"true"===k,p),u++):l(h,!e.strings[h]||"",p):(l(h,k,p),u++)}else if(/^-[^-]+/.test(p)){for(var g=p.slice(1,-1).split(""),v=!1,d=0;d<g.length;d++){var k;if("-"!==(k=p.slice(d+2))){if(/[A-Za-z]/.test(g[d])&&/=/.test(k)){l(g[d],k.split("=")[1],p),v=!0;break}if(/[A-Za-z]/.test(g[d])&&/-?\d+(\.\d*)?(e-?\d+)?$/.test(k)){l(g[d],k,p),v=!0;break}if(g[d+1]&&g[d+1].match(/\W/)){l(g[d],p.slice(d+2),p),v=!0;break}l(g[d],!e.strings[g[d]]||"",p)}else l(g[d],k,p)}h=p.slice(-1)[0];v||"-"===h||(!o[u+1]||/^(-|--)[^-]/.test(o[u+1])||e.bools[h]||r[h]&&c(h)?o[u+1]&&/^(true|false)$/.test(o[u+1])?(l(h,"true"===o[u+1],p),u++):l(h,!e.strings[h]||"",p):(l(h,o[u+1],p),u++))}else if(e.unknownFn&&!1===e.unknownFn(p)||i._.push(e.strings._||!t(p)?p:Number(p)),n.stopEarly){i._.push.apply(i._,o.slice(u+1));break}}return Object.keys(s).forEach(function(t){(function(t,o){var n=t;return o.slice(0,-1).forEach(function(t){n=n[t]||{}}),o[o.length-1]in n})(i,t.split("."))||(f(i,t.split("."),s[t]),(r[t]||[]).forEach(function(o){f(i,o.split("."),s[t])}))}),n["--"]?(i["--"]=new Array,a.forEach(function(t){i["--"].push(t)})):a.forEach(function(t){i._.push(t)}),i};