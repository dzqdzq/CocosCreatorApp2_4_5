var e=require("path"),r=require("fs"),t=parseInt("0777",8);function n(o,i,c,a){"function"==typeof i?(c=i,i={}):i&&"object"==typeof i||(i={mode:i});var u=i.mode,d=i.fs||r;void 0===u&&(u=t),a||(a=null);var f=c||function(){};o=e.resolve(o),d.mkdir(o,u,function(r){if(!r)return f(null,a=a||o);switch(r.code){case"ENOENT":if(e.dirname(o)===o)return f(r);n(e.dirname(o),i,function(e,r){e?f(e,r):n(o,i,f,r)});break;default:d.stat(o,function(e,t){e||!t.isDirectory()?f(r,a):f(null,a)})}})}module.exports=n.mkdirp=n.mkdirP=n,n.sync=function n(o,i,c){i&&"object"==typeof i||(i={mode:i});var a=i.mode,u=i.fs||r;void 0===a&&(a=t),c||(c=null),o=e.resolve(o);try{u.mkdirSync(o,a),c=c||o}catch(r){switch(r.code){case"ENOENT":n(o,i,c=n(e.dirname(o),i,c));break;default:var d;try{d=u.statSync(o)}catch(e){throw r}if(!d.isDirectory())throw r}}return c};