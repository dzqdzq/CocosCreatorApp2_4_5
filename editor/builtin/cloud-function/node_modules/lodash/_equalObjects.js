var r=require("./_getAllKeys"),t=1,e=Object.prototype.hasOwnProperty;module.exports=function(n,o,c,i,a,f){var u=c&t,s=r(n),v=s.length;if(v!=r(o).length&&!u)return!1;for(var l=v;l--;){var p=s[l];if(!(u?p in o:e.call(o,p)))return!1}var g=f.get(n),y=f.get(o);if(g&&y)return g==o&&y==n;var d=!0;f.set(n,o),f.set(o,n);for(var h=u;++l<v;){var b=n[p=s[l]],O=o[p];if(i)var j=u?i(O,b,p,o,n,f):i(b,O,p,n,o,f);if(!(void 0===j?b===O||a(b,O,c,i,f):j)){d=!1;break}h||(h="constructor"==p)}if(d&&!h){var k=n.constructor,m=o.constructor;k!=m&&"constructor"in n&&"constructor"in o&&!("function"==typeof k&&k instanceof k&&"function"==typeof m&&m instanceof m)&&(d=!1)}return f.delete(n),f.delete(o),d};