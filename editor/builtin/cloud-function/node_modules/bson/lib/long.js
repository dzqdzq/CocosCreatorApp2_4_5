"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.Long=void 0;const t=require("./parser/utils");let i=void 0;try{i=new WebAssembly.Instance(new WebAssembly.Module(new Uint8Array([0,97,115,109,1,0,0,0,1,13,2,96,0,1,127,96,4,127,127,127,127,1,127,3,7,6,0,1,1,1,1,1,6,6,1,127,1,65,0,11,7,50,6,3,109,117,108,0,1,5,100,105,118,95,115,0,2,5,100,105,118,95,117,0,3,5,114,101,109,95,115,0,4,5,114,101,109,95,117,0,5,8,103,101,116,95,104,105,103,104,0,0,10,191,1,6,4,0,35,0,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,126,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,127,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,128,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,129,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,130,34,4,66,32,135,167,36,0,32,4,167,11])),{}).exports}catch(t){}const s=4294967296,r=s*s,e=r/2,n={},h={};class o{constructor(t=0,i=0,s){this.low=0|t,this.high=0|i,this.unsigned=!!s,Object.defineProperty(this,"__isLong__",{value:!0,configurable:!1,writable:!1,enumerable:!1})}static fromBits(t,i,s){return new o(t,i,s)}static fromInt(t,i){let s,r,e;return i?(e=0<=(t>>>=0)&&t<256)&&(r=h[t])?r:(s=o.fromBits(t,(0|t)<0?-1:0,!0),e&&(h[t]=s),s):(e=-128<=(t|=0)&&t<128)&&(r=n[t])?r:(s=o.fromBits(t,t<0?-1:0,!1),e&&(n[t]=s),s)}static fromNumber(t,i){if(isNaN(t))return i?o.UZERO:o.ZERO;if(i){if(t<0)return o.UZERO;if(t>=r)return o.MAX_UNSIGNED_VALUE}else{if(t<=-e)return o.MIN_VALUE;if(t+1>=e)return o.MAX_VALUE}return t<0?o.fromNumber(-t,i).neg():o.fromBits(t%s|0,t/s|0,i)}static fromBigInt(t,i){return o.fromString(t.toString(),i)}static fromString(t,i,s){if(0===t.length)throw Error("empty string");if("NaN"===t||"Infinity"===t||"+Infinity"===t||"-Infinity"===t)return o.ZERO;if("number"==typeof i?(s=i,i=!1):i=!!i,(s=s||10)<2||36<s)throw RangeError("radix");let r;if((r=t.indexOf("-"))>0)throw Error("interior hyphen");if(0===r)return o.fromString(t.substring(1),i,s).neg();const e=o.fromNumber(Math.pow(s,8));let n=o.ZERO;for(let i=0;i<t.length;i+=8){const r=Math.min(8,t.length-i),h=parseInt(t.substring(i,i+r),s);if(r<8){const t=o.fromNumber(Math.pow(s,r));n=n.mul(t).add(o.fromNumber(h))}else n=(n=n.mul(e)).add(o.fromNumber(h))}return n.unsigned=i,n}static fromBytes(t,i,s){return s?o.fromBytesLE(t,i):o.fromBytesBE(t,i)}static fromBytesLE(t,i){return new o(t[0]|t[1]<<8|t[2]<<16|t[3]<<24,t[4]|t[5]<<8|t[6]<<16|t[7]<<24,i)}static fromBytesBE(t,i){return new o(t[4]<<24|t[5]<<16|t[6]<<8|t[7],t[0]<<24|t[1]<<16|t[2]<<8|t[3],i)}static isLong(i){return t.isObjectLike(i)&&!0===i.__isLong__}static fromValue(t,i){return"number"==typeof t?o.fromNumber(t,i):"string"==typeof t?o.fromString(t,i):o.fromBits(t.low,t.high,"boolean"==typeof i?i:t.unsigned)}add(t){o.isLong(t)||(t=o.fromValue(t));const i=this.high>>>16,s=65535&this.high,r=this.low>>>16,e=65535&this.low,n=t.high>>>16,h=65535&t.high,u=t.low>>>16;let g=0,l=0,f=0,m=0;return f+=(m+=e+(65535&t.low))>>>16,m&=65535,l+=(f+=r+u)>>>16,f&=65535,g+=(l+=s+h)>>>16,l&=65535,g+=i+n,g&=65535,o.fromBits(f<<16|m,g<<16|l,this.unsigned)}and(t){return o.isLong(t)||(t=o.fromValue(t)),o.fromBits(this.low&t.low,this.high&t.high,this.unsigned)}compare(t){if(o.isLong(t)||(t=o.fromValue(t)),this.eq(t))return 0;const i=this.isNegative(),s=t.isNegative();return i&&!s?-1:!i&&s?1:this.unsigned?t.high>>>0>this.high>>>0||t.high===this.high&&t.low>>>0>this.low>>>0?-1:1:this.sub(t).isNegative()?-1:1}comp(t){return this.compare(t)}divide(t){if(o.isLong(t)||(t=o.fromValue(t)),t.isZero())throw Error("division by zero");if(i){if(!this.unsigned&&-2147483648===this.high&&-1===t.low&&-1===t.high)return this;const s=(this.unsigned?i.div_u:i.div_s)(this.low,this.high,t.low,t.high);return o.fromBits(s,i.get_high(),this.unsigned)}if(this.isZero())return this.unsigned?o.UZERO:o.ZERO;let s,r,e;if(this.unsigned){if(t.unsigned||(t=t.toUnsigned()),t.gt(this))return o.UZERO;if(t.gt(this.shru(1)))return o.UONE;e=o.UZERO}else{if(this.eq(o.MIN_VALUE)){if(t.eq(o.ONE)||t.eq(o.NEG_ONE))return o.MIN_VALUE;if(t.eq(o.MIN_VALUE))return o.ONE;return(s=this.shr(1).div(t).shl(1)).eq(o.ZERO)?t.isNegative()?o.ONE:o.NEG_ONE:(r=this.sub(t.mul(s)),e=s.add(r.div(t)))}if(t.eq(o.MIN_VALUE))return this.unsigned?o.UZERO:o.ZERO;if(this.isNegative())return t.isNegative()?this.neg().div(t.neg()):this.neg().div(t).neg();if(t.isNegative())return this.div(t.neg()).neg();e=o.ZERO}for(r=this;r.gte(t);){s=Math.max(1,Math.floor(r.toNumber()/t.toNumber()));const i=Math.ceil(Math.log(s)/Math.LN2),n=i<=48?1:Math.pow(2,i-48);let h=o.fromNumber(s),u=h.mul(t);for(;u.isNegative()||u.gt(r);)s-=n,u=(h=o.fromNumber(s,this.unsigned)).mul(t);h.isZero()&&(h=o.ONE),e=e.add(h),r=r.sub(u)}return e}div(t){return this.divide(t)}equals(t){return o.isLong(t)||(t=o.fromValue(t)),(this.unsigned===t.unsigned||this.high>>>31!=1||t.high>>>31!=1)&&(this.high===t.high&&this.low===t.low)}eq(t){return this.equals(t)}getHighBits(){return this.high}getHighBitsUnsigned(){return this.high>>>0}getLowBits(){return this.low}getLowBitsUnsigned(){return this.low>>>0}getNumBitsAbs(){if(this.isNegative())return this.eq(o.MIN_VALUE)?64:this.neg().getNumBitsAbs();const t=0!==this.high?this.high:this.low;let i;for(i=31;i>0&&0==(t&1<<i);i--);return 0!==this.high?i+33:i+1}greaterThan(t){return this.comp(t)>0}gt(t){return this.greaterThan(t)}greaterThanOrEqual(t){return this.comp(t)>=0}gte(t){return this.greaterThanOrEqual(t)}ge(t){return this.greaterThanOrEqual(t)}isEven(){return 0==(1&this.low)}isNegative(){return!this.unsigned&&this.high<0}isOdd(){return 1==(1&this.low)}isPositive(){return this.unsigned||this.high>=0}isZero(){return 0===this.high&&0===this.low}lessThan(t){return this.comp(t)<0}lt(t){return this.lessThan(t)}lessThanOrEqual(t){return this.comp(t)<=0}lte(t){return this.lessThanOrEqual(t)}modulo(t){if(o.isLong(t)||(t=o.fromValue(t)),i){const s=(this.unsigned?i.rem_u:i.rem_s)(this.low,this.high,t.low,t.high);return o.fromBits(s,i.get_high(),this.unsigned)}return this.sub(this.div(t).mul(t))}mod(t){return this.modulo(t)}rem(t){return this.modulo(t)}multiply(t){if(this.isZero())return o.ZERO;if(o.isLong(t)||(t=o.fromValue(t)),i){const s=i.mul(this.low,this.high,t.low,t.high);return o.fromBits(s,i.get_high(),this.unsigned)}if(t.isZero())return o.ZERO;if(this.eq(o.MIN_VALUE))return t.isOdd()?o.MIN_VALUE:o.ZERO;if(t.eq(o.MIN_VALUE))return this.isOdd()?o.MIN_VALUE:o.ZERO;if(this.isNegative())return t.isNegative()?this.neg().mul(t.neg()):this.neg().mul(t).neg();if(t.isNegative())return this.mul(t.neg()).neg();if(this.lt(o.TWO_PWR_24)&&t.lt(o.TWO_PWR_24))return o.fromNumber(this.toNumber()*t.toNumber(),this.unsigned);const s=this.high>>>16,r=65535&this.high,e=this.low>>>16,n=65535&this.low,h=t.high>>>16,u=65535&t.high,g=t.low>>>16,l=65535&t.low;let f=0,m=0,a=0,d=0;return a+=(d+=n*l)>>>16,d&=65535,m+=(a+=e*l)>>>16,a&=65535,m+=(a+=n*g)>>>16,a&=65535,f+=(m+=r*l)>>>16,m&=65535,f+=(m+=e*g)>>>16,m&=65535,f+=(m+=n*u)>>>16,m&=65535,f+=s*l+r*g+e*u+n*h,f&=65535,o.fromBits(a<<16|d,f<<16|m,this.unsigned)}mul(t){return this.multiply(t)}negate(){return!this.unsigned&&this.eq(o.MIN_VALUE)?o.MIN_VALUE:this.not().add(o.ONE)}neg(){return this.negate()}not(){return o.fromBits(~this.low,~this.high,this.unsigned)}notEquals(t){return!this.equals(t)}neq(t){return this.notEquals(t)}ne(t){return this.notEquals(t)}or(t){return o.isLong(t)||(t=o.fromValue(t)),o.fromBits(this.low|t.low,this.high|t.high,this.unsigned)}shiftLeft(t){return o.isLong(t)&&(t=t.toInt()),0==(t&=63)?this:t<32?o.fromBits(this.low<<t,this.high<<t|this.low>>>32-t,this.unsigned):o.fromBits(0,this.low<<t-32,this.unsigned)}shl(t){return this.shiftLeft(t)}shiftRight(t){return o.isLong(t)&&(t=t.toInt()),0==(t&=63)?this:t<32?o.fromBits(this.low>>>t|this.high<<32-t,this.high>>t,this.unsigned):o.fromBits(this.high>>t-32,this.high>=0?0:-1,this.unsigned)}shr(t){return this.shiftRight(t)}shiftRightUnsigned(t){if(o.isLong(t)&&(t=t.toInt()),0===(t&=63))return this;{const i=this.high;if(t<32){const s=this.low;return o.fromBits(s>>>t|i<<32-t,i>>>t,this.unsigned)}return 32===t?o.fromBits(i,0,this.unsigned):o.fromBits(i>>>t-32,0,this.unsigned)}}shr_u(t){return this.shiftRightUnsigned(t)}shru(t){return this.shiftRightUnsigned(t)}subtract(t){return o.isLong(t)||(t=o.fromValue(t)),this.add(t.neg())}sub(t){return this.subtract(t)}toInt(){return this.unsigned?this.low>>>0:this.low}toNumber(){return this.unsigned?(this.high>>>0)*s+(this.low>>>0):this.high*s+(this.low>>>0)}toBigInt(){return BigInt(this.toString())}toBytes(t){return t?this.toBytesLE():this.toBytesBE()}toBytesLE(){const t=this.high,i=this.low;return[255&i,i>>>8&255,i>>>16&255,i>>>24,255&t,t>>>8&255,t>>>16&255,t>>>24]}toBytesBE(){const t=this.high,i=this.low;return[t>>>24,t>>>16&255,t>>>8&255,255&t,i>>>24,i>>>16&255,i>>>8&255,255&i]}toSigned(){return this.unsigned?o.fromBits(this.low,this.high,!1):this}toString(t){if((t=t||10)<2||36<t)throw RangeError("radix");if(this.isZero())return"0";if(this.isNegative()){if(this.eq(o.MIN_VALUE)){const i=o.fromNumber(t),s=this.div(i),r=s.mul(i).sub(this);return s.toString(t)+r.toInt().toString(t)}return"-"+this.neg().toString(t)}const i=o.fromNumber(Math.pow(t,6),this.unsigned);let s=this,r="";for(;;){const e=s.div(i);let n=(s.sub(e.mul(i)).toInt()>>>0).toString(t);if((s=e).isZero())return n+r;for(;n.length<6;)n="0"+n;r=""+n+r}}toUnsigned(){return this.unsigned?this:o.fromBits(this.low,this.high,!0)}xor(t){return o.isLong(t)||(t=o.fromValue(t)),o.fromBits(this.low^t.low,this.high^t.high,this.unsigned)}eqz(){return this.isZero()}le(t){return this.lessThanOrEqual(t)}toExtendedJSON(t){return t&&t.relaxed?this.toNumber():{$numberLong:this.toString()}}static fromExtendedJSON(t,i){const s=o.fromString(t.$numberLong);return i&&i.relaxed?s.toNumber():s}[Symbol.for("nodejs.util.inspect.custom")](){return this.inspect()}inspect(){return`Long("${this.toString()}")`}}exports.Long=o,o.TWO_PWR_24=o.fromInt(1<<24),o.MAX_UNSIGNED_VALUE=o.fromBits(-1,-1,!0),o.ZERO=o.fromInt(0),o.UZERO=o.fromInt(0,!0),o.ONE=o.fromInt(1),o.UONE=o.fromInt(1,!0),o.NEG_ONE=o.fromInt(-1),o.MAX_VALUE=o.fromBits(-1,2147483647,!1),o.MIN_VALUE=o.fromBits(0,-2147483648,!1),Object.defineProperty(o.prototype,"__isLong__",{value:!0}),Object.defineProperty(o.prototype,"_bsontype",{value:"Long"});