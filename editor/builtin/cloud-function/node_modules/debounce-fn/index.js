"use strict";const e=require("mimic-fn");module.exports=((t,o={})=>{if("function"!=typeof t)throw new TypeError(`Expected the first argument to be a function, got \`${typeof t}\``);const{wait:r=0,before:n=!1,after:i=!0}=o;if(!n&&!i)throw new Error("Both `before` and `after` are false, function wouldn't be called.");let c,f;const a=function(...e){const o=this,a=n&&!c;return clearTimeout(c),c=setTimeout(()=>{c=void 0,i&&(f=t.apply(o,e))},r),a&&(f=t.apply(o,e)),f};return e(a,t),a.cancel=(()=>{c&&(clearTimeout(c),c=void 0)}),a});