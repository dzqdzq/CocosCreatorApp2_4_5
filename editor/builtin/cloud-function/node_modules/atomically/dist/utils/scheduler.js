"use strict";Object.defineProperty(exports,"__esModule",{value:!0});const e={},t={next:s=>{const n=e[s];if(!n)return;n.shift();const o=n[0];o?o(()=>t.next(s)):delete e[s]},schedule:s=>new Promise(n=>{let o=e[s];o||(o=e[s]=[]),o.push(n),o.length>1||n(()=>t.next(s))})};exports.default=t;