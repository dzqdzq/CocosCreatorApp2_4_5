"use strict";function e(e,r,n,t){var a=t?" !== ":" === ",o=t?" || ":" && ",u=t?"!":"",c=t?"":"!";switch(e){case"null":return r+a+"null";case"array":return u+"Array.isArray("+r+")";case"object":return"("+u+r+o+"typeof "+r+a+'"object"'+o+c+"Array.isArray("+r+"))";case"integer":return"(typeof "+r+a+'"number"'+o+c+"("+r+" % 1)"+o+r+a+r+(n?o+u+"isFinite("+r+")":"")+")";case"number":return"(typeof "+r+a+'"'+e+'"'+(n?o+u+"isFinite("+r+")":"")+")";default:return"typeof "+r+a+'"'+e+'"'}}module.exports={copy:function(e,r){for(var n in r=r||{},e)r[n]=e[n];return r},checkDataType:e,checkDataTypes:function(r,t,a){switch(r.length){case 1:return e(r[0],t,a,!0);default:var o="",u=n(r);for(var c in u.array&&u.object&&(o=u.null?"(":"(!"+t+" || ",o+="typeof "+t+' !== "object")',delete u.null,delete u.array,delete u.object),u.number&&delete u.integer,u)o+=(o?" && ":"")+e(c,t,a,!0);return o}},coerceToTypes:function(e,n){if(Array.isArray(n)){for(var t=[],a=0;a<n.length;a++){var o=n[a];r[o]?t[t.length]=o:"array"===e&&"array"===o&&(t[t.length]=o)}if(t.length)return t}else{if(r[n])return[n];if("array"===e&&"array"===n)return["array"]}},toHash:n,getProperty:o,escapeQuotes:u,equal:require("fast-deep-equal"),ucs2length:require("./ucs2length"),varOccurences:function(e,r){r+="[^0-9]";var n=e.match(new RegExp(r,"g"));return n?n.length:0},varReplace:function(e,r,n){return r+="([^0-9])",n=n.replace(/\$/g,"$$$$"),e.replace(new RegExp(r,"g"),n+"$1")},schemaHasRules:function(e,r){if("boolean"==typeof e)return!e;for(var n in e)if(r[n])return!0},schemaHasRulesExcept:function(e,r,n){if("boolean"==typeof e)return!e&&"not"!=n;for(var t in e)if(t!=n&&r[t])return!0},schemaUnknownRules:function(e,r){if("boolean"==typeof e)return;for(var n in e)if(!r[n])return n},toQuotedString:c,getPathExpr:function(e,r,n,t){return f(e,n?"'/' + "+r+(t?"":".replace(/~/g, '~0').replace(/\\//g, '~1')"):t?"'[' + "+r+" + ']'":"'[\\'' + "+r+" + '\\']'")},getPath:function(e,r,n){var t=c(n?"/"+s(r):o(r));return f(e,t)},getData:function(e,r,n){var t,a,u,c;if(""===e)return"rootData";if("/"==e[0]){if(!i.test(e))throw new Error("Invalid JSON-pointer: "+e);a=e,u="rootData"}else{if(!(c=e.match(l)))throw new Error("Invalid JSON-pointer: "+e);if(t=+c[1],"#"==(a=c[2])){if(t>=r)throw new Error("Cannot access property/index "+t+" levels up, current level is "+r);return n[r-t]}if(t>r)throw new Error("Cannot access data "+t+" levels up, current level is "+r);if(u="data"+(r-t||""),!a)return u}for(var f=u,s=a.split("/"),g=0;g<s.length;g++){var y=s[g];y&&(u+=o(p(y)),f+=" && "+u)}return f},unescapeFragment:function(e){return p(decodeURIComponent(e))},unescapeJsonPointer:p,escapeFragment:function(e){return encodeURIComponent(s(e))},escapeJsonPointer:s};var r=n(["string","number","integer","boolean","null"]);function n(e){for(var r={},n=0;n<e.length;n++)r[e[n]]=!0;return r}var t=/^[a-z$_][a-z$_0-9]*$/i,a=/'|\\/g;function o(e){return"number"==typeof e?"["+e+"]":t.test(e)?"."+e:"['"+u(e)+"']"}function u(e){return e.replace(a,"\\$&").replace(/\n/g,"\\n").replace(/\r/g,"\\r").replace(/\f/g,"\\f").replace(/\t/g,"\\t")}function c(e){return"'"+u(e)+"'"}var i=/^\/(?:[^~]|~0|~1)*$/,l=/^([0-9]+)(#|\/(?:[^~]|~0|~1)*)?$/;function f(e,r){return'""'==e?r:(e+" + "+r).replace(/([^\\])' \+ '/g,"$1")}function s(e){return e.replace(/~/g,"~0").replace(/\//g,"~1")}function p(e){return e.replace(/~1/g,"/").replace(/~0/g,"~")}