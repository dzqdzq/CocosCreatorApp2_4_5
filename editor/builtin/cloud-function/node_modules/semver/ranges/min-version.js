const e=require("../classes/semver"),r=require("../classes/range"),t=require("../functions/gt");module.exports=((s,n)=>{s=new r(s,n);let a=new e("0.0.0");if(s.test(a))return a;if(a=new e("0.0.0-0"),s.test(a))return a;a=null;for(let r=0;r<s.set.length;++r){let n=null;s.set[r].forEach(r=>{const s=new e(r.semver.version);switch(r.operator){case">":0===s.prerelease.length?s.patch++:s.prerelease.push(0),s.raw=s.format();case"":case">=":n&&!t(s,n)||(n=s);break;case"<":case"<=":break;default:throw new Error(`Unexpected operation: ${r.operator}`)}}),!n||a&&!t(a,n)||(a=n)}return a&&s.test(a)?a:null});