const{MAX_LENGTH:e}=require("../internal/constants"),{re:r,t:n}=require("../internal/re"),t=require("../classes/semver"),l=require("../internal/parse-options");module.exports=((u,i)=>{if(i=l(i),u instanceof t)return u;if("string"!=typeof u)return null;if(u.length>e)return null;if(!(i.loose?r[n.LOOSE]:r[n.FULL]).test(u))return null;try{return new t(u,i)}catch(e){return null}});