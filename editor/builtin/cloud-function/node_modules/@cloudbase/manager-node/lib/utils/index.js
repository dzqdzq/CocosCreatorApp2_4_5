"use strict";var e=this&&this.__createBinding||(Object.create?function(e,t,r,o){void 0===o&&(o=r),Object.defineProperty(e,o,{enumerable:!0,get:function(){return t[r]}})}:function(e,t,r,o){void 0===o&&(o=r),e[o]=t[r]}),t=this&&this.__exportStar||function(t,r){for(var o in t)"default"===o||r.hasOwnProperty(o)||e(r,t,o)},r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(exports,"__esModule",{value:!0}),exports.upperCaseObjKey=exports.upperCaseStringFisrt=exports.sleep=exports.rsaEncrypt=exports.getEnvVar=exports.getRuntime=exports.compressToZip=void 0;const o=r(require("fs")),n=r(require("archiver")),i=r(require("crypto")),s=require("../constant");var u=require("./uuid");function p(e){return e.slice(0,1).toUpperCase().concat(e.slice(1))}Object.defineProperty(exports,"guid6",{enumerable:!0,get:function(){return u.guid6}}),t(require("./cloud-api-request"),exports),t(require("./auth"),exports),t(require("./cloudbase-request"),exports),t(require("./http-request"),exports),t(require("./envLazy"),exports),t(require("./fs"),exports),exports.compressToZip=async function(e){const{dirPath:t,outputPath:r,ignore:i,pattern:s="**/*"}=e;return new Promise((e,u)=>{const p=o.default.createWriteStream(r),c=n.default("zip");p.on("close",function(){e({zipPath:r,size:Math.ceil(c.pointer()/1024)})}),c.on("error",function(e){u(e)}),c.pipe(p),c.glob(s,{cwd:t,ignore:i,dot:!0}),c.finalize()})},exports.getRuntime=function(){return process.env[s.ENV_NAME.ENV_RUNENV]},exports.getEnvVar=function(e){return process.env[e]},exports.rsaEncrypt=function(e){const t=Buffer.from(e);return i.default.publicEncrypt({key:s.PUBLIC_RSA_KEY,padding:i.default.constants.RSA_PKCS1_PADDING},t).toString("base64")},exports.sleep=function(e){return new Promise(t=>{setTimeout(()=>{t()},e)})},exports.upperCaseStringFisrt=p,exports.upperCaseObjKey=function e(t){const r=Object.prototype.toString.call(t).slice(8,-1);if("Object"===r){let r={};for(let o in t)r[p(o)]=e(t[o]);return r}if("Array"===r){let r=[];for(let o of t)r.push(e(o));return r}return t};