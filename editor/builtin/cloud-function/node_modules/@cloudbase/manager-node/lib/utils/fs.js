"use strict";var e=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(exports,"__esModule",{value:!0}),exports.delSync=exports.formateFileSize=exports.isDirectory=exports.checkReadable=exports.checkFullAccess=void 0;const t=e(require("fs")),r=require("../error"),c=e(require("del"));function s(e,c=!1){try{return t.default.accessSync(e,t.default.constants.F_OK),t.default.accessSync(e,t.default.constants.W_OK),t.default.accessSync(e,t.default.constants.R_OK),!0}catch(t){if(c)throw new r.CloudBaseError(`路径不存在或无读写权限：${e}`);return!1}}exports.checkFullAccess=s,exports.checkReadable=function(e,c=!1){try{return t.default.accessSync(e,t.default.constants.F_OK),t.default.accessSync(e,t.default.constants.R_OK),!0}catch(t){if(c)throw new r.CloudBaseError(`路径不存在或无读权限：${e}`);return!1}},exports.isDirectory=function(e){return s(e,!0),t.default.statSync(e).isDirectory()},exports.formateFileSize=function(e,t){const r={KB:1024,MB:Math.pow(1024,2),GB:Math.pow(1024,3)};return Number(e/r[t]).toFixed(2)},exports.delSync=function(e){c.default.sync(e,{force:!0})};